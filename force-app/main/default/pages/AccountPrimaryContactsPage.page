<apex:page standardController="Account" extensions="primaryContactExtension" sidebar="true" showHeader="true">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Account Primary Contacts</title>
        <!-- Import the Design System style sheet -->
        <apex:slds />
    </head>

    <body>
        <apex:form>
            <apex:pageBlock title="Account Primary Contact">
                <!--Buttons -->
                <apex:pageBlockButtons>
                    <apex:commandButton action="{!save}" value="Save" />
                    <apex:commandButton action="{!cancel}" value="Cancel" />
                </apex:pageBlockButtons>
                <!--Input form -->
                <apex:pageBlockSection columns="2">
                    <apex:inputField value="{!Account.Name}" />
                    <apex:inputField value="{!Account.AccountNumber}" />
                </apex:pageBlockSection>
                <apex:pageBlockSection columns="2">
                    <apex:inputField value="{!Account.Type}" />
                    <apex:inputField value="{!Account.Active__c}" />
                </apex:pageBlockSection>
                <apex:pageBlockSection columns="2">
                    <apex:inputField value="{!Account.Phone}" />
                    <apex:inputField value="{!Account.Fax}" />
                </apex:pageBlockSection>
                
            </apex:pageBlock>
        </apex:form>
        <apex:form>
            <apex:pageBlock title="Search related contacts">
                <apex:inputText label="Search" value="{!searchVar}" />
                <apex:commandButton value="Search" reRender="relatedTable" />
            </apex:pageBlock>
        </apex:form>
        <apex:pageBlock title="Related Contacts">
            <apex:pageBlockTable value="{!relatedContacts}" var="contact" rows="1000" id="relatedTable">
                <apex:column value="{!contact.Name}" />
                <apex:column value="{!contact.Title}" />
                <apex:column value="{!contact.Phone}" />
                <apex:column value="{!contact.Is_Primary_Contact__c}" />
                <apex:column rendered="{! If(contact.Is_Primary_Contact__c==true ,false,true) }" value="{!'heyo'}" />
                <apex:column rendered="{! If(contact.Is_Primary_Contact__c==true ,true,false) }">
                    <apex:image url="https://test.salesforce.com/img/icon/macro24.png" />
                </apex:column>
            </apex:pageBlockTable>
        </apex:pageBlock>

    </body>
</apex:page>